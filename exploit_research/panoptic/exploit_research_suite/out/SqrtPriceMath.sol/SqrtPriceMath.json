{"abi":[],"bytecode":{"object":"0x60566037600b82828239805160001a607314602a57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bfc8b118e411a22958582cd8fc0f49f214df7ccc37f47496c3f878cab77091164736f6c63430008120033","sourceMap":"407:10734:63:-:0;;;;;;;;;;;;;;;-1:-1:-1;;;407:10734:63;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x73000000000000000000000000000000000000000030146080604052600080fdfea26469706673582212209bfc8b118e411a22958582cd8fc0f49f214df7ccc37f47496c3f878cab77091164736f6c63430008120033","sourceMap":"407:10734:63:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.18+commit.87f61d96\"},\"language\":\"Solidity\",\"output\":{\"abi\":[],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"Functions based on Q64.96 sqrt price and liquidity\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v3-core/contracts/libraries/SqrtPriceMath.sol\":\"SqrtPriceMath\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":18000},\"remappings\":[\":@contracts/=contracts/\",\":@libraries/=contracts/libraries/\",\":@multicall/=contracts/multicall/\",\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@periphery/=contracts/periphery/\",\":@scripts/=scripts/\",\":@testUtils/=test/foundry/testUtils/\",\":@tokens/=contracts/tokens/\",\":@types/=contracts/types/\",\":@uniswap/=lib/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solmate/=lib/solmate/src/\",\":univ3-core/=lib/v3-core/contracts/\",\":univ3-periphery/=lib/v3-periphery/contracts/\",\":v3-core/=lib/v3-core/contracts/\",\":v3-periphery/=lib/v3-periphery/contracts/\"]},\"sources\":{\"lib/v3-core/contracts/libraries/FixedPoint96.sol\":{\"keccak256\":\"0x0ba8a9b95a956a4050749c0158e928398c447c91469682ca8a7cc7e77a7fe032\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://186d3b528866065a5856f96d2aeec698efa99f8da913e9adf34f8cc296cc993d\",\"dweb:/ipfs/QmUAiMvtAQp8c9dy57bqJYzG7hkb1uChiPaQmt264skoqP\"]},\"lib/v3-core/contracts/libraries/FullMath.sol\":{\"keccak256\":\"0x7825565a4bb2a34a1dc96bbfead755785dfb0df8ef81bd934c43023689685645\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8f44f4614d31e3d4864c7eb13620555253b84f6a69180f8745b7c6e246a9d125\",\"dweb:/ipfs/QmfNQUcXj3KL8h9u5PqbtEC6yRtwDbKNb48uMPjdwxsKnd\"]},\"lib/v3-core/contracts/libraries/SafeCast.sol\":{\"keccak256\":\"0x4c12bf820c0b011f5490a209960ca34dd8af34660ef9e01de0438393d15e3fd8\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://fed11489e218e55d087d42b4f350a30e10cd2aedec8f432bd3cc712f648d5869\",\"dweb:/ipfs/QmWfRnRxyXwHUDcTQPazxYYk5jxErGeQqdvnYtyg5nBPbU\"]},\"lib/v3-core/contracts/libraries/SqrtPriceMath.sol\":{\"keccak256\":\"0xe73eb517e348c084771c6204eb698fce95657901454ad0f394acf5192b709b97\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://9c17cfe6437af06c117ffb3a3bff6733bdad54bf31764417bbce1cf578758d61\",\"dweb:/ipfs/QmS5ogqMJFAxqHaHTCbc2gd8SaU6x7sFygLni5MSojej3L\"]},\"lib/v3-core/contracts/libraries/UnsafeMath.sol\":{\"keccak256\":\"0x5f36d7d16348d8c37fe64fda932018d6e5e8acecd054f0f97d32db62d20c6c88\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://4bd4e817ea3d2c26bb2be7e58db3eaa403119562c18d4c09cc92fb31aa231496\",\"dweb:/ipfs/QmbpjgL8Hf1mhmUyf9hpuPk4noGAggCdTqaRBFKqNF3AQw\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.18+commit.87f61d96"},"language":"Solidity","output":{"abi":[],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@contracts/=contracts/","@libraries/=contracts/libraries/","@multicall/=contracts/multicall/","@openzeppelin/=lib/openzeppelin-contracts/","@periphery/=contracts/periphery/","@scripts/=scripts/","@testUtils/=test/foundry/testUtils/","@tokens/=contracts/tokens/","@types/=contracts/types/","@uniswap/=lib/","ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solmate/=lib/solmate/src/","univ3-core/=lib/v3-core/contracts/","univ3-periphery/=lib/v3-periphery/contracts/","v3-core/=lib/v3-core/contracts/","v3-periphery/=lib/v3-periphery/contracts/"],"optimizer":{"enabled":true,"runs":18000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v3-core/contracts/libraries/SqrtPriceMath.sol":"SqrtPriceMath"},"libraries":{}},"sources":{"lib/v3-core/contracts/libraries/FixedPoint96.sol":{"keccak256":"0x0ba8a9b95a956a4050749c0158e928398c447c91469682ca8a7cc7e77a7fe032","urls":["bzz-raw://186d3b528866065a5856f96d2aeec698efa99f8da913e9adf34f8cc296cc993d","dweb:/ipfs/QmUAiMvtAQp8c9dy57bqJYzG7hkb1uChiPaQmt264skoqP"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/libraries/FullMath.sol":{"keccak256":"0x7825565a4bb2a34a1dc96bbfead755785dfb0df8ef81bd934c43023689685645","urls":["bzz-raw://8f44f4614d31e3d4864c7eb13620555253b84f6a69180f8745b7c6e246a9d125","dweb:/ipfs/QmfNQUcXj3KL8h9u5PqbtEC6yRtwDbKNb48uMPjdwxsKnd"],"license":"MIT"},"lib/v3-core/contracts/libraries/SafeCast.sol":{"keccak256":"0x4c12bf820c0b011f5490a209960ca34dd8af34660ef9e01de0438393d15e3fd8","urls":["bzz-raw://fed11489e218e55d087d42b4f350a30e10cd2aedec8f432bd3cc712f648d5869","dweb:/ipfs/QmWfRnRxyXwHUDcTQPazxYYk5jxErGeQqdvnYtyg5nBPbU"],"license":"GPL-2.0-or-later"},"lib/v3-core/contracts/libraries/SqrtPriceMath.sol":{"keccak256":"0xe73eb517e348c084771c6204eb698fce95657901454ad0f394acf5192b709b97","urls":["bzz-raw://9c17cfe6437af06c117ffb3a3bff6733bdad54bf31764417bbce1cf578758d61","dweb:/ipfs/QmS5ogqMJFAxqHaHTCbc2gd8SaU6x7sFygLni5MSojej3L"],"license":"BUSL-1.1"},"lib/v3-core/contracts/libraries/UnsafeMath.sol":{"keccak256":"0x5f36d7d16348d8c37fe64fda932018d6e5e8acecd054f0f97d32db62d20c6c88","urls":["bzz-raw://4bd4e817ea3d2c26bb2be7e58db3eaa403119562c18d4c09cc92fb31aa231496","dweb:/ipfs/QmbpjgL8Hf1mhmUyf9hpuPk4noGAggCdTqaRBFKqNF3AQw"],"license":"GPL-2.0-or-later"}},"version":1},"ast":{"absolutePath":"lib/v3-core/contracts/libraries/SqrtPriceMath.sol","id":53166,"exportedSymbols":{"FixedPoint96":[52396],"FullMath":[52573],"SafeCast":[52643],"SqrtPriceMath":[53165],"UnsafeMath":[53727]},"nodeType":"SourceUnit","src":"37:11105:63","nodes":[{"id":52645,"nodeType":"PragmaDirective","src":"37:23:63","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":52647,"nodeType":"ImportDirective","src":"62:40:63","nodes":[],"absolutePath":"lib/v3-core/contracts/libraries/SafeCast.sol","file":"./SafeCast.sol","nameLocation":"-1:-1:-1","scope":53166,"sourceUnit":52644,"symbolAliases":[{"foreign":{"id":52646,"name":"SafeCast","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52643,"src":"70:8:63","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52649,"nodeType":"ImportDirective","src":"104:40:63","nodes":[],"absolutePath":"lib/v3-core/contracts/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":53166,"sourceUnit":52574,"symbolAliases":[{"foreign":{"id":52648,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"112:8:63","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52651,"nodeType":"ImportDirective","src":"145:44:63","nodes":[],"absolutePath":"lib/v3-core/contracts/libraries/UnsafeMath.sol","file":"./UnsafeMath.sol","nameLocation":"-1:-1:-1","scope":53166,"sourceUnit":53728,"symbolAliases":[{"foreign":{"id":52650,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53727,"src":"153:10:63","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":52653,"nodeType":"ImportDirective","src":"190:48:63","nodes":[],"absolutePath":"lib/v3-core/contracts/libraries/FixedPoint96.sol","file":"./FixedPoint96.sol","nameLocation":"-1:-1:-1","scope":53166,"sourceUnit":52397,"symbolAliases":[{"foreign":{"id":52652,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"198:12:63","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":53165,"nodeType":"ContractDefinition","src":"407:10734:63","nodes":[{"id":52657,"nodeType":"UsingForDirective","src":"435:27:63","nodes":[],"global":false,"libraryName":{"id":52655,"name":"SafeCast","nameLocations":["441:8:63"],"nodeType":"IdentifierPath","referencedDeclaration":52643,"src":"441:8:63"},"typeName":{"id":52656,"name":"uint256","nodeType":"ElementaryTypeName","src":"454:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"id":52778,"nodeType":"FunctionDefinition","src":"1405:1541:63","nodes":[],"body":{"id":52777,"nodeType":"Block","src":"1585:1361:63","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52673,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52671,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"1711:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52672,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1721:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1711:11:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52676,"nodeType":"IfStatement","src":"1707:32:63","trueBody":{"expression":{"id":52674,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"1731:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52670,"id":52675,"nodeType":"Return","src":"1724:15:63"}},{"assignments":[52678],"declarations":[{"constant":false,"id":52678,"mutability":"mutable","name":"numerator1","nameLocation":"1757:10:63","nodeType":"VariableDeclaration","scope":52777,"src":"1749:18:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52677,"name":"uint256","nodeType":"ElementaryTypeName","src":"1749:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52686,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52685,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":52681,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52662,"src":"1778:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":52680,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1770:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":52679,"name":"uint256","nodeType":"ElementaryTypeName","src":"1770:7:63","typeDescriptions":{}}},"id":52682,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1770:18:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":52683,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"1792:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52684,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1805:10:63","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":52392,"src":"1792:23:63","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"1770:45:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1749:66:63"},{"condition":{"id":52687,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52666,"src":"1830:3:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52775,"nodeType":"Block","src":"2434:506:63","statements":[{"id":52774,"nodeType":"UncheckedBlock","src":"2448:482:63","statements":[{"assignments":[52740],"declarations":[{"constant":false,"id":52740,"mutability":"mutable","name":"product","nameLocation":"2484:7:63","nodeType":"VariableDeclaration","scope":52774,"src":"2476:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52739,"name":"uint256","nodeType":"ElementaryTypeName","src":"2476:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52741,"nodeType":"VariableDeclarationStatement","src":"2476:15:63"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":52756,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52750,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"id":52747,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52743,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52740,"src":"2684:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52744,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"2694:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52745,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"2703:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2694:17:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2684:27:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52748,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2683:29:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52749,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"2715:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2683:38:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52751,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"2725:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2683:50:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52755,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52753,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2737:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52754,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52740,"src":"2750:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2737:20:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"2683:74:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52742,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"2675:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52757,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2675:83:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52758,"nodeType":"ExpressionStatement","src":"2675:83:63"},{"assignments":[52760],"declarations":[{"constant":false,"id":52760,"mutability":"mutable","name":"denominator","nameLocation":"2784:11:63","nodeType":"VariableDeclaration","scope":52774,"src":"2776:19:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52759,"name":"uint256","nodeType":"ElementaryTypeName","src":"2776:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52764,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52761,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2798:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52762,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52740,"src":"2811:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2798:20:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"2776:42:63"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":52767,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2869:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52768,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"2881:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52769,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52760,"src":"2891:11:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":52765,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"2843:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":52766,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2852:16:63","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":52572,"src":"2843:25:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":52770,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2843:60:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52771,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2904:9:63","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":52597,"src":"2843:70:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":52772,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2843:72:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52670,"id":52773,"nodeType":"Return","src":"2836:79:63"}]}]},"id":52776,"nodeType":"IfStatement","src":"1826:1114:63","trueBody":{"id":52738,"nodeType":"Block","src":"1835:593:63","statements":[{"id":52723,"nodeType":"UncheckedBlock","src":"1849:418:63","statements":[{"assignments":[52689],"declarations":[{"constant":false,"id":52689,"mutability":"mutable","name":"product","nameLocation":"1885:7:63","nodeType":"VariableDeclaration","scope":52723,"src":"1877:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52688,"name":"uint256","nodeType":"ElementaryTypeName","src":"1877:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52690,"nodeType":"VariableDeclarationStatement","src":"1877:15:63"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52700,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"id":52695,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":52691,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52689,"src":"1915:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52692,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"1925:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"id":52693,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"1934:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"1925:17:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1915:27:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52696,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"1914:29:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52697,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"1946:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1914:38:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":52699,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"1956:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"1914:50:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52722,"nodeType":"IfStatement","src":"1910:343:63","trueBody":{"id":52721,"nodeType":"Block","src":"1966:287:63","statements":[{"assignments":[52702],"declarations":[{"constant":false,"id":52702,"mutability":"mutable","name":"denominator","nameLocation":"1996:11:63","nodeType":"VariableDeclaration","scope":52721,"src":"1988:19:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52701,"name":"uint256","nodeType":"ElementaryTypeName","src":"1988:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52706,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52705,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52703,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2010:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52704,"name":"product","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52689,"src":"2023:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2010:20:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1988:42:63"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52707,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52702,"src":"2056:11:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"id":52708,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2071:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2056:25:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52720,"nodeType":"IfStatement","src":"2052:182:63","trueBody":{"expression":{"arguments":[{"arguments":[{"id":52714,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2199:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52715,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"2211:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52716,"name":"denominator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52702,"src":"2221:11:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":52712,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"2173:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":52713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2182:16:63","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":52572,"src":"2173:25:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":52717,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2173:60:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52711,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2165:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":52710,"name":"uint160","nodeType":"ElementaryTypeName","src":"2165:7:63","typeDescriptions":{}}},"id":52718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2165:69:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52670,"id":52719,"nodeType":"Return","src":"2158:76:63"}}]}}]},{"expression":{"arguments":[{"arguments":[{"id":52728,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2371:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52734,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52731,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52729,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52678,"src":"2384:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52730,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52660,"src":"2397:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"2384:21:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52732,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2383:23:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52733,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52664,"src":"2409:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2383:32:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":52726,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53727,"src":"2346:10:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$53727_$","typeString":"type(library UnsafeMath)"}},"id":52727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2357:13:63","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":53726,"src":"2346:24:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":52735,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2346:70:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52725,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2338:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":52724,"name":"uint160","nodeType":"ElementaryTypeName","src":"2338:7:63","typeDescriptions":{}}},"id":52736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2338:79:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52670,"id":52737,"nodeType":"Return","src":"2331:86:63"}]}}]},"documentation":{"id":52658,"nodeType":"StructuredDocumentation","src":"468:932:63","text":"@notice Gets the next sqrt price given a delta of token0\n @dev Always rounds up, because in the exact output case (increasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (decreasing price) we need to move the\n price less in order to not send too much output.\n The most precise formula for this is liquidity * sqrtPX96 / (liquidity +- amount * sqrtPX96),\n if this is impossible because of overflow, we calculate liquidity / (liquidity / sqrtPX96 +- amount).\n @param sqrtPX96 The starting price, i.e. before accounting for the token0 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of token0 to add or remove from virtual reserves\n @param add Whether to add or remove the amount of token0\n @return The price after adding or removing amount, depending on add"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount0RoundingUp","nameLocation":"1414:37:63","parameters":{"id":52667,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52660,"mutability":"mutable","name":"sqrtPX96","nameLocation":"1469:8:63","nodeType":"VariableDeclaration","scope":52778,"src":"1461:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52659,"name":"uint160","nodeType":"ElementaryTypeName","src":"1461:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52662,"mutability":"mutable","name":"liquidity","nameLocation":"1495:9:63","nodeType":"VariableDeclaration","scope":52778,"src":"1487:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":52661,"name":"uint128","nodeType":"ElementaryTypeName","src":"1487:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":52664,"mutability":"mutable","name":"amount","nameLocation":"1522:6:63","nodeType":"VariableDeclaration","scope":52778,"src":"1514:14:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52663,"name":"uint256","nodeType":"ElementaryTypeName","src":"1514:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52666,"mutability":"mutable","name":"add","nameLocation":"1543:3:63","nodeType":"VariableDeclaration","scope":52778,"src":"1538:8:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52665,"name":"bool","nodeType":"ElementaryTypeName","src":"1538:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"1451:101:63"},"returnParameters":{"id":52670,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52669,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52778,"src":"1576:7:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52668,"name":"uint160","nodeType":"ElementaryTypeName","src":"1576:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"1575:9:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52874,"nodeType":"FunctionDefinition","src":"3772:1130:63","nodes":[],"body":{"id":52873,"nodeType":"Block","src":"3954:948:63","nodes":[],"statements":[{"condition":{"id":52792,"name":"add","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52787,"src":"4122:3:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":52871,"nodeType":"Block","src":"4445:451:63","statements":[{"assignments":[52831],"declarations":[{"constant":false,"id":52831,"mutability":"mutable","name":"quotient","nameLocation":"4467:8:63","nodeType":"VariableDeclaration","scope":52871,"src":"4459:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52830,"name":"uint256","nodeType":"ElementaryTypeName","src":"4459:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52856,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52832,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4496:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":52835,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4511:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":52834,"name":"uint160","nodeType":"ElementaryTypeName","src":"4511:7:63","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":52833,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"4506:4:63","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":52836,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4506:13:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":52837,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4520:3:63","memberName":"max","nodeType":"MemberAccess","src":"4506:17:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"4496:27:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":52849,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4665:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":52850,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"4673:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52851,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4686:3:63","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":52395,"src":"4673:16:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52852,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52783,"src":"4691:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":52847,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"4639:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":52848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4648:16:63","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":52572,"src":"4639:25:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":52853,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4639:62:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52854,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4496:205:63","trueExpression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52841,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4571:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":52842,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"4581:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52843,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4594:10:63","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":52392,"src":"4581:23:63","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4571:33:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52845,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52783,"src":"4606:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":52839,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53727,"src":"4546:10:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$53727_$","typeString":"type(library UnsafeMath)"}},"id":52840,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4557:13:63","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":53726,"src":"4546:24:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":52846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4546:70:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52855,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4478:237:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4459:256:63"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52860,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52858,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52781,"src":"4738:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52859,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52831,"src":"4749:8:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4738:19:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52857,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"4730:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52861,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4730:28:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52862,"nodeType":"ExpressionStatement","src":"4730:28:63"},{"id":52870,"nodeType":"UncheckedBlock","src":"4808:78:63","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52865,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52781,"src":"4851:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52866,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52831,"src":"4862:8:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4851:19:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":52864,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4843:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":52863,"name":"uint160","nodeType":"ElementaryTypeName","src":"4843:7:63","typeDescriptions":{}}},"id":52868,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4843:28:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52791,"id":52869,"nodeType":"Return","src":"4836:35:63"}]}]},"id":52872,"nodeType":"IfStatement","src":"4118:778:63","trueBody":{"id":52829,"nodeType":"Block","src":"4127:312:63","statements":[{"assignments":[52794],"declarations":[{"constant":false,"id":52794,"mutability":"mutable","name":"quotient","nameLocation":"4149:8:63","nodeType":"VariableDeclaration","scope":52829,"src":"4141:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52793,"name":"uint256","nodeType":"ElementaryTypeName","src":"4141:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52818,"initialValue":{"components":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52801,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52795,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4178:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"expression":{"arguments":[{"id":52798,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4193:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":52797,"name":"uint160","nodeType":"ElementaryTypeName","src":"4193:7:63","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"}],"id":52796,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"4188:4:63","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":52799,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4188:13:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint160","typeString":"type(uint160)"}},"id":52800,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4202:3:63","memberName":"max","nodeType":"MemberAccess","src":"4188:17:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"4178:27:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":52811,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4314:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":52812,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"4322:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52813,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4335:3:63","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":52395,"src":"4322:16:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":52814,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52783,"src":"4340:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"}],"expression":{"id":52809,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"4298:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":52810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4307:6:63","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":52528,"src":"4298:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":52815,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4298:52:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4178:172:63","trueExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52808,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52805,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52802,"name":"amount","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52785,"src":"4229:6:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":52803,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"4239:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52804,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4252:10:63","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":52392,"src":"4239:23:63","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4229:33:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52806,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4228:35:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":52807,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52783,"src":"4266:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4228:47:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52817,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4160:204:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4141:223:63"},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52824,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":52821,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52781,"src":"4395:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":52820,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4387:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":52819,"name":"uint256","nodeType":"ElementaryTypeName","src":"4387:7:63","typeDescriptions":{}}},"id":52822,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4387:17:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"id":52823,"name":"quotient","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52794,"src":"4407:8:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4387:28:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":52825,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4386:30:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":52826,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4417:9:63","memberName":"toUint160","nodeType":"MemberAccess","referencedDeclaration":52597,"src":"4386:40:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_uint160_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (uint160)"}},"id":52827,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4386:42:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52791,"id":52828,"nodeType":"Return","src":"4379:49:63"}]}}]},"documentation":{"id":52779,"nodeType":"StructuredDocumentation","src":"2952:815:63","text":"@notice Gets the next sqrt price given a delta of token1\n @dev Always rounds down, because in the exact output case (decreasing price) we need to move the price at least\n far enough to get the desired output amount, and in the exact input case (increasing price) we need to move the\n price less in order to not send too much output.\n The formula we compute is within <1 wei of the lossless version: sqrtPX96 +- amount / liquidity\n @param sqrtPX96 The starting price, i.e., before accounting for the token1 delta\n @param liquidity The amount of usable liquidity\n @param amount How much of token1 to add, or remove, from virtual reserves\n @param add Whether to add, or remove, the amount of token1\n @return The price after adding or removing `amount`"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromAmount1RoundingDown","nameLocation":"3781:39:63","parameters":{"id":52788,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52781,"mutability":"mutable","name":"sqrtPX96","nameLocation":"3838:8:63","nodeType":"VariableDeclaration","scope":52874,"src":"3830:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52780,"name":"uint160","nodeType":"ElementaryTypeName","src":"3830:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52783,"mutability":"mutable","name":"liquidity","nameLocation":"3864:9:63","nodeType":"VariableDeclaration","scope":52874,"src":"3856:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":52782,"name":"uint128","nodeType":"ElementaryTypeName","src":"3856:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":52785,"mutability":"mutable","name":"amount","nameLocation":"3891:6:63","nodeType":"VariableDeclaration","scope":52874,"src":"3883:14:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52784,"name":"uint256","nodeType":"ElementaryTypeName","src":"3883:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52787,"mutability":"mutable","name":"add","nameLocation":"3912:3:63","nodeType":"VariableDeclaration","scope":52874,"src":"3907:8:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52786,"name":"bool","nodeType":"ElementaryTypeName","src":"3907:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"3820:101:63"},"returnParameters":{"id":52791,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52790,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":52874,"src":"3945:7:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52789,"name":"uint160","nodeType":"ElementaryTypeName","src":"3945:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"3944:9:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52916,"nodeType":"FunctionDefinition","src":"5451:550:63","nodes":[],"body":{"id":52915,"nodeType":"Block","src":"5637:364:63","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":52891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52889,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52877,"src":"5655:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":52890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5666:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5655:12:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52888,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5647:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52892,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5647:21:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52893,"nodeType":"ExpressionStatement","src":"5647:21:63"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":52897,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52895,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52879,"src":"5686:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":52896,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5698:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5686:13:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52894,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"5678:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52898,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5678:22:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52899,"nodeType":"ExpressionStatement","src":"5678:22:63"},{"expression":{"condition":{"id":52900,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52883,"src":"5796:10:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":52908,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52877,"src":"5958:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52909,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52879,"src":"5968:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":52910,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52881,"src":"5979:8:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":52911,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5989:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52907,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52874,"src":"5918:39:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":52912,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5918:76:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":52913,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5796:198:63","trueExpression":{"arguments":[{"id":52902,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52877,"src":"5863:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52903,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52879,"src":"5873:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":52904,"name":"amountIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52881,"src":"5884:8:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"74727565","id":52905,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"5894:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52901,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52778,"src":"5825:37:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":52906,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5825:74:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52887,"id":52914,"nodeType":"Return","src":"5777:217:63"}]},"documentation":{"id":52875,"nodeType":"StructuredDocumentation","src":"4908:538:63","text":"@notice Gets the next sqrt price given an input amount of token0 or token1\n @dev Throws if price or liquidity are 0, or if the next price is out of bounds\n @param sqrtPX96 The starting price, i.e., before accounting for the input amount\n @param liquidity The amount of usable liquidity\n @param amountIn How much of token0, or token1, is being swapped in\n @param zeroForOne Whether the amount in is token0 or token1\n @return sqrtQX96 The price after adding the input amount to token0 or token1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromInput","nameLocation":"5460:25:63","parameters":{"id":52884,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52877,"mutability":"mutable","name":"sqrtPX96","nameLocation":"5503:8:63","nodeType":"VariableDeclaration","scope":52916,"src":"5495:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52876,"name":"uint160","nodeType":"ElementaryTypeName","src":"5495:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52879,"mutability":"mutable","name":"liquidity","nameLocation":"5529:9:63","nodeType":"VariableDeclaration","scope":52916,"src":"5521:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":52878,"name":"uint128","nodeType":"ElementaryTypeName","src":"5521:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":52881,"mutability":"mutable","name":"amountIn","nameLocation":"5556:8:63","nodeType":"VariableDeclaration","scope":52916,"src":"5548:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52880,"name":"uint256","nodeType":"ElementaryTypeName","src":"5548:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52883,"mutability":"mutable","name":"zeroForOne","nameLocation":"5579:10:63","nodeType":"VariableDeclaration","scope":52916,"src":"5574:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52882,"name":"bool","nodeType":"ElementaryTypeName","src":"5574:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"5485:110:63"},"returnParameters":{"id":52887,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52886,"mutability":"mutable","name":"sqrtQX96","nameLocation":"5627:8:63","nodeType":"VariableDeclaration","scope":52916,"src":"5619:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52885,"name":"uint160","nodeType":"ElementaryTypeName","src":"5619:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"5618:18:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":52958,"nodeType":"FunctionDefinition","src":"6547:550:63","nodes":[],"body":{"id":52957,"nodeType":"Block","src":"6735:362:63","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":52933,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52931,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52919,"src":"6753:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":52932,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6764:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6753:12:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52930,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6745:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52934,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6745:21:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52935,"nodeType":"ExpressionStatement","src":"6745:21:63"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":52939,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52937,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52921,"src":"6784:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":52938,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6796:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6784:13:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52936,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"6776:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":52940,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6776:22:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52941,"nodeType":"ExpressionStatement","src":"6776:22:63"},{"expression":{"condition":{"id":52942,"name":"zeroForOne","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52925,"src":"6888:10:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":52950,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52919,"src":"7052:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52951,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52921,"src":"7062:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":52952,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52923,"src":"7073:9:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":52953,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"7084:5:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52949,"name":"getNextSqrtPriceFromAmount0RoundingUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52778,"src":"7014:37:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":52954,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7014:76:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":52955,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"6888:202:63","trueExpression":{"arguments":[{"id":52944,"name":"sqrtPX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52919,"src":"6957:8:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52945,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52921,"src":"6967:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":52946,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52923,"src":"6978:9:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"hexValue":"66616c7365","id":52947,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"6989:5:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":52943,"name":"getNextSqrtPriceFromAmount1RoundingDown","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52874,"src":"6917:39:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint128_$_t_uint256_$_t_bool_$returns$_t_uint160_$","typeString":"function (uint160,uint128,uint256,bool) pure returns (uint160)"}},"id":52948,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6917:78:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"functionReturnParameters":52929,"id":52956,"nodeType":"Return","src":"6869:221:63"}]},"documentation":{"id":52917,"nodeType":"StructuredDocumentation","src":"6007:535:63","text":"@notice Gets the next sqrt price given an output amount of token0 or token1\n @dev Throws if price or liquidity are 0 or the next price is out of bounds\n @param sqrtPX96 The starting price before accounting for the output amount\n @param liquidity The amount of usable liquidity\n @param amountOut How much of token0, or token1, is being swapped out\n @param zeroForOne Whether the amount out is token0 or token1\n @return sqrtQX96 The price after removing the output amount of token0 or token1"},"implemented":true,"kind":"function","modifiers":[],"name":"getNextSqrtPriceFromOutput","nameLocation":"6556:26:63","parameters":{"id":52926,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52919,"mutability":"mutable","name":"sqrtPX96","nameLocation":"6600:8:63","nodeType":"VariableDeclaration","scope":52958,"src":"6592:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52918,"name":"uint160","nodeType":"ElementaryTypeName","src":"6592:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52921,"mutability":"mutable","name":"liquidity","nameLocation":"6626:9:63","nodeType":"VariableDeclaration","scope":52958,"src":"6618:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":52920,"name":"uint128","nodeType":"ElementaryTypeName","src":"6618:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":52923,"mutability":"mutable","name":"amountOut","nameLocation":"6653:9:63","nodeType":"VariableDeclaration","scope":52958,"src":"6645:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52922,"name":"uint256","nodeType":"ElementaryTypeName","src":"6645:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":52925,"mutability":"mutable","name":"zeroForOne","nameLocation":"6677:10:63","nodeType":"VariableDeclaration","scope":52958,"src":"6672:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52924,"name":"bool","nodeType":"ElementaryTypeName","src":"6672:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"6582:111:63"},"returnParameters":{"id":52929,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52928,"mutability":"mutable","name":"sqrtQX96","nameLocation":"6725:8:63","nodeType":"VariableDeclaration","scope":52958,"src":"6717:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52927,"name":"uint160","nodeType":"ElementaryTypeName","src":"6717:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"}],"src":"6716:18:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":53029,"nodeType":"FunctionDefinition","src":"7645:853:63","nodes":[],"body":{"id":53028,"nodeType":"Block","src":"7827:671:63","nodes":[],"statements":[{"id":53027,"nodeType":"UncheckedBlock","src":"7837:655:63","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":52974,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52972,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"7865:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":52973,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"7881:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"7865:29:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":52983,"nodeType":"IfStatement","src":"7861:98:63","trueBody":{"expression":{"id":52981,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":52975,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"7897:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52976,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"7912:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":52977,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"7896:30:63","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"id":52978,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"7930:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":52979,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"7945:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":52980,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"7929:30:63","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"src":"7896:63:63","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":52982,"nodeType":"ExpressionStatement","src":"7896:63:63"}},{"assignments":[52985],"declarations":[{"constant":false,"id":52985,"mutability":"mutable","name":"numerator1","nameLocation":"7982:10:63","nodeType":"VariableDeclaration","scope":53027,"src":"7974:18:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52984,"name":"uint256","nodeType":"ElementaryTypeName","src":"7974:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52993,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":52992,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":52988,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52965,"src":"8003:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"}],"id":52987,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7995:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":52986,"name":"uint256","nodeType":"ElementaryTypeName","src":"7995:7:63","typeDescriptions":{}}},"id":52989,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7995:18:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"expression":{"id":52990,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"8017:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":52991,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"8030:10:63","memberName":"RESOLUTION","nodeType":"MemberAccess","referencedDeclaration":52392,"src":"8017:23:63","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"7995:45:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"7974:66:63"},{"assignments":[52995],"declarations":[{"constant":false,"id":52995,"mutability":"mutable","name":"numerator2","nameLocation":"8062:10:63","nodeType":"VariableDeclaration","scope":53027,"src":"8054:18:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52994,"name":"uint256","nodeType":"ElementaryTypeName","src":"8054:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":52999,"initialValue":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":52998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":52996,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"8075:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":52997,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"8091:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"8075:29:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"VariableDeclarationStatement","src":"8054:50:63"},{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":53003,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53001,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"8127:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":53002,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8143:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"8127:17:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":53000,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"8119:7:63","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":53004,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8119:26:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53005,"nodeType":"ExpressionStatement","src":"8119:26:63"},{"expression":{"condition":{"id":53006,"name":"roundUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52967,"src":"8183:7:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":53019,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52985,"src":"8427:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53020,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52995,"src":"8439:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53021,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"8451:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":53017,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"8411:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":53018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8420:6:63","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":52528,"src":"8411:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":53022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8411:54:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":53023,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"8468:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"8411:70:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"8183:298:63","trueExpression":{"arguments":[{"arguments":[{"id":53011,"name":"numerator1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52985,"src":"8289:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53012,"name":"numerator2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52995,"src":"8301:10:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53013,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52963,"src":"8313:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":53009,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"8263:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":53010,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8272:16:63","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":52572,"src":"8263:25:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":53014,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8263:64:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":53015,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52961,"src":"8353:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint160","typeString":"uint160"}],"expression":{"id":53007,"name":"UnsafeMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53727,"src":"8213:10:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UnsafeMath_$53727_$","typeString":"type(library UnsafeMath)"}},"id":53008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8224:13:63","memberName":"divRoundingUp","nodeType":"MemberAccess","referencedDeclaration":53726,"src":"8213:24:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":53016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8213:175:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":52971,"id":53026,"nodeType":"Return","src":"8160:321:63"}]}]},"documentation":{"id":52959,"nodeType":"StructuredDocumentation","src":"7103:537:63","text":"@notice Gets the amount0 delta between two prices\n @dev Calculates liquidity / sqrt(lower) - liquidity / sqrt(upper),\n i.e. liquidity * (sqrt(upper) - sqrt(lower)) / (sqrt(upper) * sqrt(lower))\n @param sqrtRatioAX96 A sqrt price\n @param sqrtRatioBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up or down\n @return amount0 Amount of token0 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"7654:15:63","parameters":{"id":52968,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52961,"mutability":"mutable","name":"sqrtRatioAX96","nameLocation":"7687:13:63","nodeType":"VariableDeclaration","scope":53029,"src":"7679:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52960,"name":"uint160","nodeType":"ElementaryTypeName","src":"7679:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52963,"mutability":"mutable","name":"sqrtRatioBX96","nameLocation":"7718:13:63","nodeType":"VariableDeclaration","scope":53029,"src":"7710:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":52962,"name":"uint160","nodeType":"ElementaryTypeName","src":"7710:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":52965,"mutability":"mutable","name":"liquidity","nameLocation":"7749:9:63","nodeType":"VariableDeclaration","scope":53029,"src":"7741:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":52964,"name":"uint128","nodeType":"ElementaryTypeName","src":"7741:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":52967,"mutability":"mutable","name":"roundUp","nameLocation":"7773:7:63","nodeType":"VariableDeclaration","scope":53029,"src":"7768:12:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":52966,"name":"bool","nodeType":"ElementaryTypeName","src":"7768:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"7669:117:63"},"returnParameters":{"id":52971,"nodeType":"ParameterList","parameters":[{"constant":false,"id":52970,"mutability":"mutable","name":"amount0","nameLocation":"7818:7:63","nodeType":"VariableDeclaration","scope":53029,"src":"7810:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":52969,"name":"uint256","nodeType":"ElementaryTypeName","src":"7810:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7809:17:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":53078,"nodeType":"FunctionDefinition","src":"8953:582:63","nodes":[],"body":{"id":53077,"nodeType":"Block","src":"9135:400:63","nodes":[],"statements":[{"id":53076,"nodeType":"UncheckedBlock","src":"9145:384:63","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":53045,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53043,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53032,"src":"9173:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"id":53044,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53034,"src":"9189:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"9173:29:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":53054,"nodeType":"IfStatement","src":"9169:98:63","trueBody":{"expression":{"id":53052,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":53046,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53032,"src":"9205:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53047,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53034,"src":"9220:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":53048,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"9204:30:63","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"components":[{"id":53049,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53034,"src":"9238:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53050,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53032,"src":"9253:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"id":53051,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"9237:30:63","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint160_$_t_uint160_$","typeString":"tuple(uint160,uint160)"}},"src":"9204:63:63","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":53053,"nodeType":"ExpressionStatement","src":"9204:63:63"}},{"expression":{"condition":{"id":53055,"name":"roundUp","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53038,"src":"9305:7:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[{"id":53067,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53036,"src":"9459:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":53070,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53068,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53034,"src":"9470:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53069,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53032,"src":"9486:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"9470:29:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"expression":{"id":53071,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"9501:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":53072,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9514:3:63","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":52395,"src":"9501:16:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53065,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"9443:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":53066,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9452:6:63","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":52528,"src":"9443:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":53073,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9443:75:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53074,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"9305:213:63","trueExpression":{"arguments":[{"id":53058,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53036,"src":"9361:9:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"commonType":{"typeIdentifier":"t_uint160","typeString":"uint160"},"id":53061,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53059,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53034,"src":"9372:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":53060,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53032,"src":"9388:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"src":"9372:29:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"expression":{"id":53062,"name":"FixedPoint96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52396,"src":"9403:12:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint96_$52396_$","typeString":"type(library FixedPoint96)"}},"id":53063,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"9416:3:63","memberName":"Q96","nodeType":"MemberAccess","referencedDeclaration":52395,"src":"9403:16:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":53056,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":52573,"src":"9335:8:63","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$52573_$","typeString":"type(library FullMath)"}},"id":53057,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9344:16:63","memberName":"mulDivRoundingUp","nodeType":"MemberAccess","referencedDeclaration":52572,"src":"9335:25:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":53064,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9335:85:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":53042,"id":53075,"nodeType":"Return","src":"9282:236:63"}]}]},"documentation":{"id":53030,"nodeType":"StructuredDocumentation","src":"8504:444:63","text":"@notice Gets the amount1 delta between two prices\n @dev Calculates liquidity * (sqrt(upper) - sqrt(lower))\n @param sqrtRatioAX96 A sqrt price\n @param sqrtRatioBX96 Another sqrt price\n @param liquidity The amount of usable liquidity\n @param roundUp Whether to round the amount up, or down\n @return amount1 Amount of token1 required to cover a position of size liquidity between the two passed prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"8962:15:63","parameters":{"id":53039,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53032,"mutability":"mutable","name":"sqrtRatioAX96","nameLocation":"8995:13:63","nodeType":"VariableDeclaration","scope":53078,"src":"8987:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53031,"name":"uint160","nodeType":"ElementaryTypeName","src":"8987:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53034,"mutability":"mutable","name":"sqrtRatioBX96","nameLocation":"9026:13:63","nodeType":"VariableDeclaration","scope":53078,"src":"9018:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53033,"name":"uint160","nodeType":"ElementaryTypeName","src":"9018:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53036,"mutability":"mutable","name":"liquidity","nameLocation":"9057:9:63","nodeType":"VariableDeclaration","scope":53078,"src":"9049:17:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":53035,"name":"uint128","nodeType":"ElementaryTypeName","src":"9049:7:63","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":53038,"mutability":"mutable","name":"roundUp","nameLocation":"9081:7:63","nodeType":"VariableDeclaration","scope":53078,"src":"9076:12:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":53037,"name":"bool","nodeType":"ElementaryTypeName","src":"9076:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"8977:117:63"},"returnParameters":{"id":53042,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53041,"mutability":"mutable","name":"amount1","nameLocation":"9126:7:63","nodeType":"VariableDeclaration","scope":53078,"src":"9118:15:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":53040,"name":"uint256","nodeType":"ElementaryTypeName","src":"9118:7:63","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9117:17:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":53121,"nodeType":"FunctionDefinition","src":"9879:458:63","nodes":[],"body":{"id":53120,"nodeType":"Block","src":"10037:300:63","nodes":[],"statements":[{"id":53119,"nodeType":"UncheckedBlock","src":"10047:284:63","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":53092,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53090,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53085,"src":"10094:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":53091,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10106:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10094:13:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53107,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53081,"src":"10254:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53108,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53083,"src":"10269:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":53111,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53085,"src":"10292:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":53110,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10284:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":53109,"name":"uint128","nodeType":"ElementaryTypeName","src":"10284:7:63","typeDescriptions":{}}},"id":53112,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10284:18:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":53113,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10304:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":53106,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[53029,53121],"referencedDeclaration":53029,"src":"10238:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":53114,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10238:71:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53115,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10310:8:63","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":52642,"src":"10238:80:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53116,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10238:82:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53117,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"10094:226:63","trueExpression":{"id":53105,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10130:85:63","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53094,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53081,"src":"10147:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53095,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53083,"src":"10162:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":53099,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10185:10:63","subExpression":{"id":53098,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53085,"src":"10186:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":53097,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10177:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":53096,"name":"uint128","nodeType":"ElementaryTypeName","src":"10177:7:63","typeDescriptions":{}}},"id":53100,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10177:19:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":53101,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"10198:5:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":53093,"name":"getAmount0Delta","nodeType":"Identifier","overloadedDeclarations":[53029,53121],"referencedDeclaration":53029,"src":"10131:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":53102,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10131:73:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53103,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10205:8:63","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":52642,"src":"10131:82:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53104,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10131:84:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":53089,"id":53118,"nodeType":"Return","src":"10071:249:63"}]}]},"documentation":{"id":53079,"nodeType":"StructuredDocumentation","src":"9541:333:63","text":"@notice Helper that gets signed token0 delta\n @param sqrtRatioAX96 A sqrt price\n @param sqrtRatioBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount0 delta\n @return amount0 Amount of token0 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount0Delta","nameLocation":"9888:15:63","parameters":{"id":53086,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53081,"mutability":"mutable","name":"sqrtRatioAX96","nameLocation":"9921:13:63","nodeType":"VariableDeclaration","scope":53121,"src":"9913:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53080,"name":"uint160","nodeType":"ElementaryTypeName","src":"9913:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53083,"mutability":"mutable","name":"sqrtRatioBX96","nameLocation":"9952:13:63","nodeType":"VariableDeclaration","scope":53121,"src":"9944:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53082,"name":"uint160","nodeType":"ElementaryTypeName","src":"9944:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53085,"mutability":"mutable","name":"liquidity","nameLocation":"9982:9:63","nodeType":"VariableDeclaration","scope":53121,"src":"9975:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":53084,"name":"int128","nodeType":"ElementaryTypeName","src":"9975:6:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"9903:94:63"},"returnParameters":{"id":53089,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53088,"mutability":"mutable","name":"amount0","nameLocation":"10028:7:63","nodeType":"VariableDeclaration","scope":53121,"src":"10021:14:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53087,"name":"int256","nodeType":"ElementaryTypeName","src":"10021:6:63","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"10020:16:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":53164,"nodeType":"FunctionDefinition","src":"10681:458:63","nodes":[],"body":{"id":53163,"nodeType":"Block","src":"10839:300:63","nodes":[],"statements":[{"id":53162,"nodeType":"UncheckedBlock","src":"10849:284:63","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":53135,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":53133,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53128,"src":"10896:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"30","id":53134,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10908:1:63","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10896:13:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53150,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53124,"src":"11056:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53151,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53126,"src":"11071:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":53154,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53128,"src":"11094:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":53153,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11086:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":53152,"name":"uint128","nodeType":"ElementaryTypeName","src":"11086:7:63","typeDescriptions":{}}},"id":53155,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11086:18:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"74727565","id":53156,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"11106:4:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"true"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":53149,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[53078,53164],"referencedDeclaration":53078,"src":"11040:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":53157,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11040:71:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53158,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11112:8:63","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":52642,"src":"11040:80:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53159,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11040:82:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"id":53160,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"10896:226:63","trueExpression":{"id":53148,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10932:85:63","subExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"id":53137,"name":"sqrtRatioAX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53124,"src":"10949:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"id":53138,"name":"sqrtRatioBX96","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53126,"src":"10964:13:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},{"arguments":[{"id":53142,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"-","prefix":true,"src":"10987:10:63","subExpression":{"id":53141,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":53128,"src":"10988:9:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"id":53140,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10979:7:63","typeDescriptions":{"typeIdentifier":"t_type$_t_uint128_$","typeString":"type(uint128)"},"typeName":{"id":53139,"name":"uint128","nodeType":"ElementaryTypeName","src":"10979:7:63","typeDescriptions":{}}},"id":53143,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10979:19:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"hexValue":"66616c7365","id":53144,"isConstant":false,"isLValue":false,"isPure":true,"kind":"bool","lValueRequested":false,"nodeType":"Literal","src":"11000:5:63","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"value":"false"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint160","typeString":"uint160"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_bool","typeString":"bool"}],"id":53136,"name":"getAmount1Delta","nodeType":"Identifier","overloadedDeclarations":[53078,53164],"referencedDeclaration":53078,"src":"10933:15:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint160_$_t_uint160_$_t_uint128_$_t_bool_$returns$_t_uint256_$","typeString":"function (uint160,uint160,uint128,bool) pure returns (uint256)"}},"id":53145,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10933:73:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":53146,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11007:8:63","memberName":"toInt256","nodeType":"MemberAccess","referencedDeclaration":52642,"src":"10933:82:63","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$returns$_t_int256_$attached_to$_t_uint256_$","typeString":"function (uint256) pure returns (int256)"}},"id":53147,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10933:84:63","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"functionReturnParameters":53132,"id":53161,"nodeType":"Return","src":"10873:249:63"}]}]},"documentation":{"id":53122,"nodeType":"StructuredDocumentation","src":"10343:333:63","text":"@notice Helper that gets signed token1 delta\n @param sqrtRatioAX96 A sqrt price\n @param sqrtRatioBX96 Another sqrt price\n @param liquidity The change in liquidity for which to compute the amount1 delta\n @return amount1 Amount of token1 corresponding to the passed liquidityDelta between the two prices"},"implemented":true,"kind":"function","modifiers":[],"name":"getAmount1Delta","nameLocation":"10690:15:63","parameters":{"id":53129,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53124,"mutability":"mutable","name":"sqrtRatioAX96","nameLocation":"10723:13:63","nodeType":"VariableDeclaration","scope":53164,"src":"10715:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53123,"name":"uint160","nodeType":"ElementaryTypeName","src":"10715:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53126,"mutability":"mutable","name":"sqrtRatioBX96","nameLocation":"10754:13:63","nodeType":"VariableDeclaration","scope":53164,"src":"10746:21:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"},"typeName":{"id":53125,"name":"uint160","nodeType":"ElementaryTypeName","src":"10746:7:63","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"visibility":"internal"},{"constant":false,"id":53128,"mutability":"mutable","name":"liquidity","nameLocation":"10784:9:63","nodeType":"VariableDeclaration","scope":53164,"src":"10777:16:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":53127,"name":"int128","nodeType":"ElementaryTypeName","src":"10777:6:63","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"src":"10705:94:63"},"returnParameters":{"id":53132,"nodeType":"ParameterList","parameters":[{"constant":false,"id":53131,"mutability":"mutable","name":"amount1","nameLocation":"10830:7:63","nodeType":"VariableDeclaration","scope":53164,"src":"10823:14:63","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":53130,"name":"int256","nodeType":"ElementaryTypeName","src":"10823:6:63","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"10822:16:63"},"scope":53165,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"SqrtPriceMath","contractDependencies":[],"contractKind":"library","documentation":{"id":52654,"nodeType":"StructuredDocumentation","src":"240:167:63","text":"@title Functions based on Q64.96 sqrt price and liquidity\n @notice Contains the math that uses square root of price as a Q64.96 and liquidity to compute deltas"},"fullyImplemented":true,"linearizedBaseContracts":[53165],"name":"SqrtPriceMath","nameLocation":"415:13:63","scope":53166,"usedErrors":[]}],"license":"BUSL-1.1"},"id":63}